<h3>
	{{tenants.tenant.firstname}} {{tenants.tenant.lastname}}
	<button class="btn btn-danger pull-right" style="margin-left:5px;" ng-click="tenants.destroy(tenants.tenant.id)">
		<i class="fa fa-trash-o"></i>
	</button>
	<button class="btn btn-warning pull-right" ng-click="tenants.editTenant()">
		<i class="fa fa-pencil"></i>
	</button>
</h3>
	
<div ng-hide="isToDoVisible">
	<div class="row">
		<div class="col-sm-3 col-sm-offset-3 col-md-3 text-middle">
			<strong>Appartement</strong><br />
			<strong>Date de naissance</strong><br />
			<strong>Téléphone</strong><br />
			<strong>Adresse des parents</strong><br />
			<strong>Téléphone des parents</strong><br />
			<strong>Email</strong><br />
			<strong>Date d'entrée</strong><br />
			<strong>Date de sortie</strong><br />
			<strong>Allocations (CAF)</strong><br />
			<strong>Loyer</strong><br />
			<strong>Internet</strong><br />
			<strong>Solde (à payer)</strong><br />
			<strong>Moyen de paiement</strong><br />
			<strong>Mois en cours</strong><br />
		</div>
		<div class="col-sm-6 col-md-6">
			<span ng-repeat="appart in tenants.appartments | filter:{id: tenants.tenant.appartment_id}:true">
				<span ng-repeat="building in tenants.buildings | filter:{id: appart.building_id}:true">
					<span ng-init="tenants.address = building"></span>
					{{building.name}} - N°{{appart.number}}
				</span>
			</span><br />
			{{tenants.tenant.birthdate | date:'dd/MM/y'}} <br />
			0{{tenants.tenant.phone}} <br />
			{{tenants.tenant.parentsaddress}} <br />
			0{{tenants.tenant.parentsphone}} <br />
			<a href="mailto:{{tenants.tenant.email}}">{{tenants.tenant.email}}</a> <br />
			{{tenants.tenant.startdate | date:'dd/MM/y'}} <br />
			{{tenants.tenant.enddate | date:'dd/MM/y'}} <br />
			{{tenants.tenant.cafamount}} € <br />
			{{tenants.tenant.rent}} € <br />
			{{ (tenants.tenant.internet) ? "Oui" : "Non" }} <br />
			{{tenants.tenant.solde}} € <br />
			{{tenants.tenant.payment}} <br />
			<span class="label" ng-class="{'label-success': tenants.tenant.haspaid, 'label-danger': !tenants.tenant.haspaid}">
				{{tenants.tenant.haspaid ? 'A payé' : 'N\'a pas payé'}}
			</span>
			&nbsp;
			<a href ng-if="!tenants.tenant.haspaid" ng-click="tenants.hasPaid(true)">
				Enregistrer le paiement
			</a>
			<a href ng-if="tenants.tenant.haspaid" ng-click="tenants.hasPaid(false)">
				Annuler le paiement
			</a>
		</div>
	</div>

	<div class="text-center">
		<div class="box-tenant"
			ng-click="tenants.sendEmail('', 
									tenants.topicCAF(tenants.tenant), 
									tenants.bodyCAF(tenants.tenant, tenants.address))">
			<i class="fa fa-envelope-o fa-4x"></i><br /><br />
			CAF
		</div>
		<div class="box-tenant" ng-click="isToDoVisible = true">
			<i class="fa fa-check fa-4x"></i><br /><br />
			TO-DO
		</div>
		<div class="box-tenant" 
			ng-click="tenants.sendEmail(tenants.tenant.email, 
									'[Rappel] Loyer ce mois-ci', 
									tenants.remindRent(tenants.tenant.firstname))">
			<i class="fa fa-bell-o fa-4x"></i><br /><br />
			RAPPEL
		</div>
		<div class="box-tenant">
			<i class="fa fa-eur fa-4x"></i><br /><br />
			HISTORIQUE
		</div>
	</div>
</div>

<div ng-show="isToDoVisible" class="text-center">
	<h3>Liste des choses à faire</h3>
	
	<button type="button" class="btn btn-warning btn-sm" ng-click="isToDoVisible = false">
		<i class="fa fa-undo"></i>
		Retour à la fiche du locataire
	</button>
</div>
